<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VRVisitors</title>
    <script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
    <script src="https://rawgit.com/ngokevin/aframe-firebase-component/master/dist/aframe-firebase-component.min.js"></script>
    <script src="https://rawgit.com/ngokevin/aframe-look-at-component/master/dist/aframe-look-at-component.min.js"></script>
    <script src="./js/aframe-layout-component.min.js"></script>
    <!-- <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v1.14.0/dist/aframe-extras.min.js"></script> -->
    <script src="./js/aframe-extras.min.js"></script>

  </head>

<body>

  <a-scene  physics
            fog="type: linear; color: #060606; far: 24; near: 6"
            firebase="apiKey: AIzaSyAGFBL9jkhsqIHe0xwB-JEb4V4FHcozDmk;
                     authDomain: vrvisitors.firebaseapp.com;
                     databaseURL: https://vrvisitors.firebaseio.com;
                     storageBucket: vrvisitors.appspot.com">

  <a-assets timeout="5400"><a-mixin id="avatar-head"
                    obj-model="obj: url(./assets/avatar/avatar.obj)"></a-mixin>

            <a-cubemap id="env">
                <img src="./assets/avatar/env/0003.png">
                <img src="./assets/avatar/env/0004.png">
                <img src="./assets/avatar/env/0006.png">
                <img src="./assets/avatar/env/0005.png">
                <img src="./assets/avatar/env/0001.png">
                <img src="./assets/avatar/env/0002.png"></a-cubemap>

            <script>
                var scene = document.querySelector('a-scene');
                (function () {
                    var obj = document.querySelector('#avatar-head');
                    obj.setAttribute('material', {
                    color: new THREE.Color(.42, .36, .33).getStyle(),
                    envMap: '#env',
                    metalness: .2,
                    roughness: 0,
                    });
                    scene.appendChild(obj);})();</script>

            <img id="main" src="assets/noisy-texture-256x256-o20-d20-c-000000-t0.png">

            <a-mixin id="pedestal1" static-body geometry="primitive: box; width: 1.066; height: 1.16; depth: 1.066; translate: 0 .553 0" material="src: #main; roughness: 1; metalness: 0"></a-mixin>
            <a-mixin id="pedestal9" static-body geometry="primitive: box; width: .25; height: 1.75; depth: .25; translate: -.0333 .875 0" material="src: #main; roughness: 1; metalness: 0"></a-mixin>
            <a-mixin id="pedestal7" static-body geometry="primitive: box; width: .6; height: 1; depth: .6; translate: 0 .5 0" material="src: #main; roughness: 1; metalness: 0"></a-mixin>
            <a-mixin id="pedestal4" static-body geometry="primitive: box; width: 1.44; height: .5; depth: 2; translate: 0 .25 0" material="src: #main; roughness: 1; metalness: 0"></a-mixin>
            <a-mixin id="pedestal3" static-body geometry="primitive: box; width: 1.333; height: .5; depth: 1.33; translate: 0 .25 0" material="src: #main; roughness: 1; metalness: 0"></a-mixin>


            <a-asset-item id="obj01" src="./assets/obj/01amenemhat3/01amenemhat3.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl01" src="./assets/obj/01amenemhat3/01amenemhat3.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj02" src="./assets/obj/02hoahakananaia/02hoahakananaia.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl02" src="./assets/obj/02hoahakananaia/02hoahakananaia.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj03" src="./assets/obj/03levantstatue/03levantstatue.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl03" src="./assets/obj/03levantstatue/03levantstatue.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj04" src="./assets/obj/04nandi/04nandi.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl04" src="./assets/obj/04nandi/04nandi.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj05" src="./assets/obj/09livia/09livia.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl05" src="./assets/obj/09livia/09livia.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj06" src="./assets/obj/06aa/06aa.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl06" src="./assets/obj/06aa/06aa.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj07" src="./assets/obj/07gudea/07gudea.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl07" src="./assets/obj/07gudea/07gudea.mtl" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="obj08" src="./assets/obj/08xiuhcoatl/08xiuhcoatl.obj" crossorigin="anonymous"></a-asset-item>
            <a-asset-item id="mtl08" src="./assets/obj/08xiuhcoatl/08xiuhcoatl.mtl" crossorigin="anonymous"></a-asset-item></a-assets>

  <a-entity id="avatar" mixin="avatar-head" material="side: single; src: url(./assets/avatar/texture.png); repeat: 2 2"
           camera universal-controls kinematic-body  
           firebase-broadcast="components: mixin, position, rotation, material"
           position="0 1.67 5">
           <a-entity cursor="maxDistance: 3" geometry="primitive: sphere"></a-entity>
  </a-entity>

  <a-entity id="centre" position="0 0 0"></a-entity>
  <a-entity layout="type: circle; radius: 8">
           <a-entity mixin="pedestal0" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal4" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal0" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal3" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal0" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal1" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal9" look-at="#centre"></a-entity>
           <a-entity mixin="pedestal7" look-at="#centre"></a-entity>
  </a-entity>

  <a-entity layout="type: circle; radius: 8" position="0 0 0" >
           <a-entity static-body="shape: box" obj-model="obj: #obj08; mtl: #mtl08" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj04; mtl: #mtl04" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj02; mtl: #mtl02" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj03; mtl: #mtl03" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj06; mtl: #mtl06" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj01; mtl: #mtl01" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj05; mtl: #mtl05" look-at="#centre"></a-entity>
           <a-entity static-body="shape: box" obj-model="obj: #obj07; mtl: #mtl07" look-at="#centre"></a-entity>
  </a-entity>

  <a-entity id="infocentre" position="0 1.25 0"></a-entity>
  <a-entity layout="type: circle; radius: 10" position="0 1 0">
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
           <a-box geometry="primitive: plane; width: 1; height: 1.33;" color="white" opacity="0" look-at="#infocentre">
             <a-animation begin="cursor-mouseenter" attribute="opacity" dur="360" to="1"></a-animation>
             <a-animation begin="cursor-mouseleave" attribute="opacity" dur="360" to="0"></a-animation>
           </a-box>
         </a-entity>

  <a-sky color="black"></a-sky>
  <a-plane static-body width="100" height="100" rotation="-90 0 0" position="0 0 0" material="src: #main; roughness: .5; metalness: 0; opacity: 1; repeat: 100 100" ></a-plane>
  <a-light type="spot" color="white" intensity="4" exponent="16" position="0 3.6 0"></a-light>
  <a-light type="hemisphere" color="white" groundColor="black" intensity=".5"></a-light>
  <a-light type="ambient" color="#AAA" intensity=".10" position="0 3 0" distance="7"></a-light>

  </a-scene>
</body>
</html>
